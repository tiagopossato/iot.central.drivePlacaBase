CREATE TABLE "central_ambiente" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "nome" varchar(255) NOT NULL, "uid" varchar(48) NULL, "createdAt" datetime NOT NULL, "updatedAt" datetime NOT NULL, "ativo" bool NOT NULL);
CREATE TABLE "central_configuracoes" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "apiKey" varchar(255) NOT NULL UNIQUE, "maxAlarmes" integer NOT NULL, "portaSerial" varchar(20) NOT NULL, "taxa" integer NOT NULL);
CREATE TABLE "central_grandeza" ("codigo" integer NOT NULL PRIMARY KEY, "nome" varchar(255) NOT NULL UNIQUE, "unidade" varchar(15) NOT NULL UNIQUE, "updatedAt" datetime NOT NULL, "sync" bool NOT NULL);
CREATE TABLE "central_log" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "tipo" varchar(6) NOT NULL, "mensagem" varchar(255) NOT NULL, "sync" bool NOT NULL, "tempo" datetime NOT NULL);
CREATE TABLE "central_placaexpansaodigital" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "idRede" integer NOT NULL UNIQUE, "descricao" varchar(255) NULL, "updatedAt" datetime NOT NULL);
CREATE TABLE "central_leitura" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "valor" real NOT NULL, "createdAt" datetime NOT NULL, "sync" bool NOT NULL, "ambiente_id" integer NOT NULL REFERENCES "central_ambiente" ("id"), "grandeza_id" integer NOT NULL REFERENCES "central_grandeza" ("codigo"), "sensor_id" integer NOT NULL REFERENCES "central_sensor" ("idRede"));
CREATE INDEX "central_leitura_672bf590" ON "central_leitura" ("ambiente_id");
CREATE INDEX "central_leitura_07a8d7f9" ON "central_leitura" ("grandeza_id");
CREATE INDEX "central_leitura_d96d866a" ON "central_leitura" ("sensor_id");
CREATE TABLE "central_alarmeanalogico" ("codigoAlarme" varchar(36) NOT NULL PRIMARY KEY, "mensagemAlarme" varchar(255) NOT NULL, "prioridadeAlarme" integer NOT NULL, "valorAlarmeOn" real NOT NULL, "valorAlarmeOff" real NOT NULL, "ambiente_id" integer NOT NULL REFERENCES "central_ambiente" ("id"), "grandeza_id" integer NOT NULL REFERENCES "central_grandeza" ("codigo"));
CREATE INDEX "central_alarmeanalogico_672bf590" ON "central_alarmeanalogico" ("ambiente_id");
CREATE INDEX "central_alarmeanalogico_07a8d7f9" ON "central_alarmeanalogico" ("grandeza_id");
CREATE TABLE "central_alarme" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "uid" varchar(48) NULL, "codigoAlarme" varchar(36) NOT NULL, "mensagemAlarme" varchar(255) NOT NULL, "prioridadeAlarme" integer NOT NULL, "ativo" bool NOT NULL, "tempoAtivacao" datetime NOT NULL, "syncAtivacao" bool NOT NULL, "tempoInativacao" datetime NULL, "syncInativacao" bool NOT NULL, "ambiente_id" integer NOT NULL REFERENCES "central_ambiente" ("id"));
CREATE INDEX "central_alarme_672bf590" ON "central_alarme" ("ambiente_id");
CREATE TABLE "central_sensorgrandeza" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "obs" varchar(255) NULL, "updatedAt" datetime NOT NULL, "curvaCalibracao" varchar(255) NOT NULL, "sync" bool NOT NULL, "grandeza_id" integer NOT NULL REFERENCES "central_grandeza" ("codigo"), "sensor_id" integer NOT NULL REFERENCES "central_sensor" ("idRede"));
CREATE UNIQUE INDEX "central_sensorgrandeza_grandeza_id_bd77b855_uniq" ON "central_sensorgrandeza" ("grandeza_id", "sensor_id");
CREATE INDEX "central_sensorgrandeza_07a8d7f9" ON "central_sensorgrandeza" ("grandeza_id");
CREATE INDEX "central_sensorgrandeza_d96d866a" ON "central_sensorgrandeza" ("sensor_id");
CREATE TABLE "central_saidadigital" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "numero" integer NOT NULL, "nome" varchar(255) NOT NULL, "ativa" bool NOT NULL, "estado" bool NOT NULL, "tempoLigado" integer NOT NULL, "tempoDesligado" integer NOT NULL, "updatedAt" datetime NOT NULL, "ultimoAcionamento" datetime NULL, "sync" bool NOT NULL, "ambiente_id" integer NOT NULL REFERENCES "central_ambiente" ("id"), "placaExpansaoDigital_id" integer NOT NULL REFERENCES "central_placaexpansaodigital" ("idRede"));
CREATE UNIQUE INDEX "central_saidadigital_placaExpansaoDigital_id_80cc7183_uniq" ON "central_saidadigital" ("placaExpansaoDigital_id", "numero");
CREATE INDEX "central_saidadigital_672bf590" ON "central_saidadigital" ("ambiente_id");
CREATE INDEX "central_saidadigital_8ab4ace9" ON "central_saidadigital" ("placaExpansaoDigital_id");
CREATE TABLE "central_entradadigital" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "numero" integer NOT NULL, "nome" varchar(255) NOT NULL, "estado" bool NOT NULL, "triggerAlarme" bool NOT NULL, "codigoAlarme" varchar(36) NOT NULL, "mensagemAlarme" varchar(255) NOT NULL, "prioridadeAlarme" integer NOT NULL, "updatedAt" datetime NOT NULL, "sync" bool NOT NULL, "ambiente_id" integer NOT NULL REFERENCES "central_ambiente" ("id"), "placaExpansaoDigital_id" integer NOT NULL REFERENCES "central_placaexpansaodigital" ("idRede"));
CREATE UNIQUE INDEX "central_entradadigital_placaExpansaoDigital_id_be21bf21_uniq" ON "central_entradadigital" ("placaExpansaoDigital_id", "numero");
CREATE INDEX "central_entradadigital_672bf590" ON "central_entradadigital" ("ambiente_id");
CREATE INDEX "central_entradadigital_8ab4ace9" ON "central_entradadigital" ("placaExpansaoDigital_id");
CREATE TABLE "central_sensor" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "idRede" integer NOT NULL UNIQUE, "uid" varchar(48) NULL, "descricao" varchar(255) NOT NULL UNIQUE, "intervaloAtualizacao" integer NOT NULL, "intervaloLeitura" integer NOT NULL, "updatedAt" datetime NOT NULL, "sync" bool NOT NULL, "ambiente_id" integer NOT NULL REFERENCES "central_ambiente" ("id"), "createdAt" datetime NOT NULL);
CREATE INDEX "central_sensor_672bf590" ON "central_sensor" ("ambiente_id");